(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9146],{4097:function(e,n,a){Promise.resolve().then(a.bind(a,1235))},1235:function(e,n,a){"use strict";a.d(n,{default:function(){return q}});var r=a(7437),o=a(7753),t=a(2265),i=a(9343),u=a(4769),l=a(2829),s=a(7983),d=a(5789),c=a(5257),m=a(5433),p=a(8856),_=a(9099),h=a(8935),v=a(3125),g=a(4245),b=a(3215);let f=g.Ry().shape({name:(0,b.J)("Full Name",50).required(),spouse_name:(0,b.J)("Spouse Name",50).required(),email:b.D.required(),phone:(0,b.J)("Phone",20).required(),branch_attended:(0,b.J)("branch_attended").required(),duration:(0,b.J)("duration",25),completed_mc:(0,b.J)("completed_mc").required(),are_you_a_worker:(0,b.J)("are_you_a_worker").required(),upcoming_celebration:(0,b.J)("upcoming_celebration").required(),proposed_date:(0,b.J)("proposed_date").required()}),y={name:"",spouse_name:"",email:"",phone:"",branch_attended:"",duration:"",completed_mc:"",are_you_a_worker:"",upcoming_celebration:"",other:"",proposed_date:""};var q=()=>{var e,n,a,g,b,q,w,S,j,x;let{campuses:k}=(0,p.Z)(),[C,P]=t.useState(null),N=t.useRef(null),[J,Z]=t.useState(!1),{register:E,handleSubmit:I,formState:{errors:z},watch:$,reset:A}=(0,i.cI)({mode:"onBlur",defaultValues:y,resolver:(0,o.X)(f)}),{completed_mc:H,are_you_a_worker:T}=$(),B=async e=>{let n="other"!==e.upcoming_celebration?e.upcoming_celebration:e.other,a={formType:h.h.Celebrations,recaptcha:C,name:e.name,spouse_name:e.spouse_name,email:e.email,phone:e.phone,branch_attended:e.branch_attended,duration:e.duration,completed_mc:e.completed_mc,are_you_a_worker:e.are_you_a_worker,upcoming_celebration:n,proposed_date:e.proposed_date};await (0,_.H)({payload:a,setLoading:Z,onSuccess:()=>{A(),N.current&&N.current.reset()}})};return(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"form-container mx-auto p-2",children:(0,r.jsxs)("form",{onSubmit:I(B),className:"w-full",children:[(0,r.jsx)(l.ph,{title:"Kindly adhere to the instructions below when choosing a date",subtitle:"Wedding Thanksgiving – Select a Sunday that is at least two(2) weeks from today.",additional_subtitle:"Baby Dedication – Select a Sunday that is at least two (2) weeks from today.",additional_subtitle1:"Naming Ceremony – Select a day that is at least three (3) days from today."}),(0,r.jsxs)(l.Hd,{children:[(0,r.jsx)(m.o,{label:"Full Name",...E("name"),error:null==z?void 0:null===(e=z.name)||void 0===e?void 0:e.message,required:!0}),(0,r.jsx)(m.o,{label:"Spouse Name",...E("spouse_name"),error:null==z?void 0:null===(n=z.spouse_name)||void 0===n?void 0:n.message,required:!0}),(0,r.jsx)(m.o,{label:"Email",...E("email"),error:null==z?void 0:null===(a=z.email)||void 0===a?void 0:a.message,required:!0}),(0,r.jsx)(m.o,{type:"tel",label:"Phone",...E("phone"),error:null==z?void 0:null===(g=z.phone)||void 0===g?void 0:g.message,required:!0}),(0,r.jsx)(c.Z,{label:"CCI Branch",placeholder:"Select a branch",options:k,...E("branch_attended"),error:null==z?void 0:null===(b=z.branch_attended)||void 0===b?void 0:b.message,required:!0}),(0,r.jsx)(m.o,{label:"How long have you been in CCI",...E("duration"),error:null==z?void 0:null===(q=z.duration)||void 0===q?void 0:q.message,required:!0}),(0,r.jsx)(s.Z,{label:"Have you completed Membership Class? ",value:H,options:v.IP,...E("completed_mc"),error:null==z?void 0:null===(w=z.completed_mc)||void 0===w?void 0:w.message,required:!0}),(0,r.jsx)(s.Z,{label:"Are you a worker?",value:T,options:v.IP,error:null==z?void 0:null===(S=z.are_you_a_worker)||void 0===S?void 0:S.message,...E("are_you_a_worker"),required:!0}),(0,r.jsx)(c.Z,{label:"Select your upcoming celebration",placeholder:"Upcoming Celebration",options:v.cz,...E("upcoming_celebration"),error:null==z?void 0:null===(j=z.upcoming_celebration)||void 0===j?void 0:j.message,required:!0}),(0,r.jsx)(m.o,{type:"date",label:"Proposed Date",...E("proposed_date"),error:null==z?void 0:null===(x=z.proposed_date)||void 0===x?void 0:x.message,required:!0}),(0,r.jsx)(d.Z,{onChange:P,ref:N}),(0,r.jsx)(u.g,{loading:J,disabled:null===C,children:J?"Submitting...":"Submit"})]})]})})})}},8856:function(e,n,a){"use strict";var r=a(2265),o=a(1388),t=a(302);async function i(){var e;let n;try{n=(await o.l.query({query:t.AC})).data}catch(e){console.error("Campus fetch error: ",e.message),n=[]}return null==n?void 0:null===(e=n.campuses)||void 0===e?void 0:e.data}n.Z=()=>{let[e,n]=r.useState([]);return r.useEffect(()=>{i().then(e=>{n(e.map(e=>{let{attributes:n}=e;return{label:n.campus_name,value:n.campus_alias}}))})},[]),{campuses:e}}},1388:function(e,n,a){"use strict";a.d(n,{l:function(){return t}});var r=a(6677),o=a(1287);a(8472).Z.create({baseURL:"".concat("https://manage.joincci.org","/api"),timeout:6e4,headers:{Accept:"application/vnd.github.v3+json"}}).interceptors.response.use(function(e){return e.data},function(e){var n,a;if(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(n=a.data)||void 0===n?void 0:n.message)return Promise.reject(e.response.data);throw Error("An Error Occured, try again")});let t=new r.f({uri:"".concat("https://manage.joincci.org","/graphql"),cache:new o.h({addTypename:!1})})},302:function(e,n,a){"use strict";a.d(n,{AC:function(){return l},LM:function(){return u}});var r=a(8646),o=a(1432);function t(){let e=(0,r._)(["\n    query GetCampuses($currentPage: Int!, $pageSize: Int!",') {\n      campuses(\n        pagination: { page: $currentPage, pageSize: $pageSize }\n        sort: ["inception_date:asc", "campus_name:desc"]\n        ',"\n      ) {\n        data {\n          id\n          attributes {\n            campus_name\n            campus_url\n            full_address\n            campus_alias\n            hero_banner {\n              data {\n                attributes {\n                  alternativeText\n                  url\n                }\n              }\n            }\n          }\n        }\n        meta {\n          pagination {\n            total\n            pageSize\n            page\n          }\n        }\n      }\n    }\n  "]);return t=function(){return e},e}function i(){let e=(0,r._)(["\n  query {\n    campuses(pagination: { page: 1, pageSize: 100 }) {\n      data {\n        id\n        attributes {\n          campus_name\n          campus_alias\n        }\n      }\n    }\n  }\n"]);return i=function(){return e},e}let u=e=>(0,o.Ps)(t(),e?", $country_code: String":"",e?"filters: { country_location: { country_code: { containsi: $country_code } } }":""),l=(0,o.Ps)(i())}},function(e){e.O(0,[6164,8472,8280,2280,6554,1144,2971,7023,1744],function(){return e(e.s=4097)}),_N_E=e.O()}]);