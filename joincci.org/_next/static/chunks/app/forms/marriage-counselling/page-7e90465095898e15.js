(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[65],{3463:function(e,r,t){Promise.resolve().then(t.bind(t,5383))},5383:function(e,r,t){"use strict";t.r(r),t.d(r,{default:function(){return b}});var n=t(7437),a=t(7753),i=t(2265),s=t(9343),l=t(4769),o=t(2829),u=t(7589),d=t(5789),c=t(5257),m=t(5433),p=t(8856),h=t(9099),f=t(8935),x=t(4245),_=t(3215);let v=x.Ry().shape({first_name:(0,_.J)("First Name",20).required(),last_name:(0,_.J)("Last Name",20).required(),partner_first_name:(0,_.J)("Partners First Name",20).required(),partner_last_name:(0,_.J)("Partners Last Name",20).required(),campus:(0,_.J)("campus",20).required(),partner_campus:(0,_.J)("campus",20).required(),other:(0,_.J)("other",20).required(),service_unit:(0,_.J)("Your Service unit",20).required(),partner_service_unit:(0,_.J)("Your Partner's Service unit",20).required(),wedding_date:(0,_.J)("wedding_date").required(),proposed_time:(0,_.J)("proposed_time").required(),street:(0,_.J)("street",255).required(),city:(0,_.J)("city",25).required(),state:(0,_.J)("state",25).required(),officiating_church:(0,_.J)("Officiating Church",20).required(),email:_.D.required(),partner_email:_.D.required(),phone:(0,_.J)("Phone",20).required(),partner_phone:(0,_.J)("Partner's Phone",20).required()}),g={first_name:"",last_name:"",partner_first_name:"",partner_last_name:"",campus:"",partner_campus:"",other:"",service_unit:"",partner_service_unit:"",wedding_date:"",proposed_time:"",street:"",city:"",state:"",officiating_church:"",email:"",partner_email:"",phone:"",partner_phone:""};var b=()=>{var e,r,t,x,_,b,j,y,q,N,w,C,S,F,k,P,M,J,T;let{campuses:A}=(0,p.Z)(),[Z,R]=i.useState(null),O=i.useRef(null),[Y,E]=i.useState(!1),{register:I,handleSubmit:L,formState:{errors:z},reset:D,watch:$}=(0,s.cI)({mode:"onBlur",defaultValues:g,resolver:(0,a.X)(v)}),{partner_campus:H}=$(),B=async e=>{let r="other"!==e.partner_campus?e.partner_campus:e.other,t={formType:f.h.Marriage_Counselling,recaptcha:Z,first_name:e.first_name,last_name:e.last_name,partner_first_name:e.partner_first_name,partner_last_name:e.partner_last_name,campus:e.campus,partner_campus:r,service_unit:e.service_unit,partner_service_unit:e.partner_service_unit,wedding_date:e.wedding_date,proposed_time:e.proposed_time,street:e.street,city:e.city,state:e.state,officiating_church:e.officiating_church,email:e.email,partner_email:e.partner_email,phone:e.phone,partner_phone:e.partner_phone};await (0,h.H)({payload:t,setLoading:E,onSuccess:()=>{D(),O.current&&O.current.reset()}})};return(0,n.jsx)(u.Z,{title:(0,n.jsxs)("h1",{className:"text-center font-anton text-2xl uppercase text-white md:text-[46px] md:leading-[55px]",children:["Marriage ",(0,n.jsx)("span",{className:"text-textRed",children:"Counselling"})]}),subTitle:(0,n.jsx)("p",{className:"w-full max-w-lg text-center text-base text-[#FFFFFFB2] md:text-lg lg:text-xl",children:"The CCI Marriage Counselling aims to equip intending couples with the knowledge required to have a successful marriage.."}),children:(0,n.jsx)("div",{className:"form-container mx-auto p-2",children:(0,n.jsxs)("form",{onSubmit:L(B),className:"w-full",children:[(0,n.jsx)(o.ph,{title:"Please provide your details",subtitle:"Counselling is facilitated by the CCI Marriage Council, a team of Godly couples equipped to impact the required knowledge.",additional_subtitle:"The Marriage Council is also available to provide counsel even after your wedding"}),(0,n.jsxs)(o.Hd,{children:[(0,n.jsxs)(o.Ue,{children:[(0,n.jsx)(m.o,{label:"Your First Name",...I("first_name"),error:null==z?void 0:null===(e=z.first_name)||void 0===e?void 0:e.message,required:!0}),(0,n.jsx)(m.o,{label:"Your Last Name",...I("last_name"),error:null==z?void 0:null===(r=z.last_name)||void 0===r?void 0:r.message,required:!0})]}),(0,n.jsxs)(o.Ue,{children:[(0,n.jsx)(m.o,{label:"Partner's First Name",...I("partner_first_name"),error:null==z?void 0:null===(t=z.partner_first_name)||void 0===t?void 0:t.message,required:!0}),(0,n.jsx)(m.o,{label:"Partner's Last Name",...I("partner_last_name"),error:null==z?void 0:null===(x=z.partner_last_name)||void 0===x?void 0:x.message,required:!0})]}),(0,n.jsx)(c.Z,{label:"Your CCI Branch",placeholder:"Select a campus",options:A,...I("campus"),error:null==z?void 0:null===(_=z.campus)||void 0===_?void 0:_.message,required:!0}),(0,n.jsx)(c.Z,{label:"Your Partner's Church/CCI Branch",placeholder:"Select a campus",options:[...A,{label:"Other",value:"other"}],...I("partner_campus"),error:null==z?void 0:null===(b=z.partner_campus)||void 0===b?void 0:b.message,required:!0}),"other"===H?(0,n.jsx)("div",{className:"mb-6",children:(0,n.jsx)(m.o,{label:"Other (please specify if you picked other above)",...I("other"),error:null==z?void 0:null===(j=z.other)||void 0===j?void 0:j.message,required:!0})}):null,(0,n.jsx)(m.o,{label:"Your service unit",...I("service_unit"),error:null==z?void 0:null===(y=z.service_unit)||void 0===y?void 0:y.message,required:!0}),(0,n.jsx)(m.o,{label:"Your partner's service unit(Required)",...I("partner_service_unit"),error:null==z?void 0:null===(q=z.partner_service_unit)||void 0===q?void 0:q.message,required:!0}),(0,n.jsx)(m.o,{type:"date",label:"Date of Wedding",...I("wedding_date"),error:null==z?void 0:null===(N=z.wedding_date)||void 0===N?void 0:N.message,required:!0}),(0,n.jsx)(m.o,{type:"time",label:"Proposed time for the Church Joining",...I("proposed_time"),error:null==z?void 0:null===(w=z.proposed_time)||void 0===w?void 0:w.message,required:!0}),(0,n.jsx)(m.o,{label:"Street Address",...I("street"),error:null==z?void 0:null===(C=z.street)||void 0===C?void 0:C.message,required:!0}),(0,n.jsx)(m.o,{label:"City",...I("city"),error:null==z?void 0:null===(S=z.city)||void 0===S?void 0:S.message,required:!0}),(0,n.jsx)(m.o,{label:"State",...I("state"),error:null==z?void 0:null===(F=z.state)||void 0===F?void 0:F.message,required:!0}),(0,n.jsx)(m.o,{label:"Church Officiating the wedding",...I("officiating_church"),error:null==z?void 0:null===(k=z.officiating_church)||void 0===k?void 0:k.message,required:!0}),(0,n.jsx)(m.o,{label:"Your email address",...I("email"),error:null==z?void 0:null===(P=z.email)||void 0===P?void 0:P.message,required:!0}),(0,n.jsx)(m.o,{label:"Your partner's email address",...I("partner_email"),error:null==z?void 0:null===(M=z.partner_email)||void 0===M?void 0:M.message,required:!0}),(0,n.jsx)(m.o,{type:"tel",label:"Phone",...I("phone"),error:null==z?void 0:null===(J=z.phone)||void 0===J?void 0:J.message,required:!0}),(0,n.jsx)(m.o,{type:"tel",label:"Your partner's phone number",...I("partner_phone"),error:null==z?void 0:null===(T=z.phone)||void 0===T?void 0:T.message,required:!0}),(0,n.jsx)(d.Z,{onChange:R,ref:O}),(0,n.jsx)(l.g,{loading:Y,disabled:null===Z,children:Y?"Submitting...":"Submit"})]})]})})})}},4769:function(e,r,t){"use strict";t.d(r,{g:function(){return i}});var n=t(7437);t(2265);var a=t(6164);let i=e=>{let{children:r,loading:t=!1,disabled:i,className:s,...l}=e;return(0,n.jsx)("button",{className:(0,a.m6)("button-effect my-4 h-12 w-full rounded-[0.375rem] bg-cci-red text-base text-white","disabled:cursor-not-allowed disabled:opacity-50",s),type:"submit",...l,disabled:i||t,children:r})}},2829:function(e,r,t){"use strict";t.d(r,{Hd:function(){return s},Ue:function(){return l},ph:function(){return i}});var n=t(7437);t(2265);var a=t(6164);let i=e=>{let{title:r,subtitle:t,additional_subtitle:i,additional_subtitle1:s,additional_subtitle2:l,className:o=""}=e;return(0,n.jsxs)("header",{className:"mb-[0.625rem] bg-milk p-5",children:[(0,n.jsx)("h1",{className:(0,a.m6)("mb-1 text-xl font-semibold text-grey-4",o),children:r}),t?(0,n.jsx)("p",{className:(0,a.m6)("text-sm font-normal text-grey-4",o),children:t}):null,i?(0,n.jsx)("p",{className:(0,a.m6)("mt-1 text-sm font-normal text-grey-4",o),children:i}):null,s?(0,n.jsx)("p",{className:(0,a.m6)("mt-1 text-sm font-normal text-grey-4",o),children:s}):null,l?(0,n.jsx)("p",{className:(0,a.m6)("mt-1 text-sm font-normal text-grey-4",o),children:l}):null]})},s=e=>(0,n.jsx)("div",{className:"mb-[0.625rem] w-full bg-milk p-[1.25rem]",...e}),l=e=>(0,n.jsx)("div",{className:"flex w-full flex-col xs:gap-4 md:flex-row",...e})},7589:function(e,r,t){"use strict";var n=t(7437);t(2265),r.Z=e=>(0,n.jsxs)("div",{className:"mb-16 md:mb-32",children:[(0,n.jsx)("div",{className:"flex h-[700px] items-center justify-center bg-black",children:(0,n.jsxs)("div",{className:"flex w-full max-w-2xl flex-col items-center gap-6",children:[(0,n.jsx)("h5",{className:"text-xs font-extrabold tracking-widest text-[#FFFFFFCC]",children:"FORMS"}),(0,n.jsx)("div",{children:e.title}),e.subTitle?e.subTitle:null]})}),(0,n.jsx)("div",{className:"mx-auto -mt-24 max-w-2xl rounded-2xl bg-white",children:e.children})]})},5789:function(e,r,t){"use strict";var n=t(7437),a=t(2265),i=t(1907);let s=a.forwardRef((e,r)=>{let{onChange:t}=e;return(0,n.jsx)(i.Z,{sitekey:"6Lcb3ygqAAAAAA_0Vb88_4KnfAqlkMQMELH3tDDQ",onChange:t,ref:r})});r.Z=s,s.displayName="ReCaptchaInput"},5257:function(e,r,t){"use strict";var n=t(7437);let a=t(2265).forwardRef((e,r)=>{let{options:t,required:a,error:i,...s}=e;return(0,n.jsxs)("fieldset",{className:"mb-4 flex flex-col",children:[(0,n.jsxs)("label",{htmlFor:s.id||s.name,className:"mb-2 text-sm text-black-russian",children:[s.label," ",a&&(0,n.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,n.jsxs)("select",{...s,id:s.id||s.name,className:"h-12 border-[0.5px] border-light-red indent-3 text-[13px] tracking-[0.05rem] placeholder-[0.875rem] placeholder-muted-grey",ref:r,children:[(0,n.jsx)("option",{value:"",disabled:!0,children:s.placeholder}),t.map((e,r)=>(0,n.jsx)("option",{value:e.value,children:e.label},r))]}),i?(0,n.jsx)("p",{className:"mt-1 text-xs text-red-400",children:i}):null]})});r.Z=a,a.displayName="SelectInput"},5433:function(e,r,t){"use strict";t.d(r,{K:function(){return l},o:function(){return s}});var n=t(7437),a=t(2265),i=t(9354);let s=a.forwardRef((e,r)=>{let{required:t,error:a,className:s,...l}=e;return(0,n.jsxs)("fieldset",{className:"mb-4 flex w-full flex-col",children:[(0,n.jsxs)("label",{htmlFor:l.id||l.name,className:"mb-2 text-sm text-black-russian",children:[l.label," ",t&&(0,n.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,n.jsx)("input",{...l,ref:r,id:l.id||l.name,className:(0,i.cn)("h-12 w-full border-[0.5px] border-light-red bg-white indent-5 text-sm tracking-[0.05rem] placeholder-[0.875rem] placeholder-muted-grey",s)}),a?(0,n.jsx)("p",{className:"mt-1 text-xs text-red-400",children:a}):null]})}),l=a.forwardRef((e,r)=>{let{required:t,error:a,...i}=e;return(0,n.jsxs)("fieldset",{className:"mb-4 flex flex-col",children:[(0,n.jsxs)("label",{htmlFor:i.id||i.name,className:"mb-2 text-sm text-black-russian",children:[i.label," ",t&&(0,n.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,n.jsx)("textarea",{...i,ref:r,id:i.id||i.name,className:"h-28 w-full border-[0.5px] border-light-red bg-white px-2 py-1 text-sm tracking-[0.05rem] placeholder-[0.875rem] placeholder-muted-grey"}),a?(0,n.jsx)("p",{className:"mt-1 text-xs text-red-400",children:a}):null]})});s.displayName="TextInput",l.displayName="TextArea"},8856:function(e,r,t){"use strict";var n=t(2265),a=t(1388),i=t(302);async function s(){var e;let r;try{r=(await a.l.query({query:i.AC})).data}catch(e){console.error("Campus fetch error: ",e.message),r=[]}return null==r?void 0:null===(e=r.campuses)||void 0===e?void 0:e.data}r.Z=()=>{let[e,r]=n.useState([]);return n.useEffect(()=>{s().then(e=>{r(e.map(e=>{let{attributes:r}=e;return{label:r.campus_name,value:r.campus_alias}}))})},[]),{campuses:e}}},1388:function(e,r,t){"use strict";t.d(r,{l:function(){return i}});var n=t(6677),a=t(1287);t(8472).Z.create({baseURL:"".concat("https://manage.joincci.org","/api"),timeout:6e4,headers:{Accept:"application/vnd.github.v3+json"}}).interceptors.response.use(function(e){return e.data},function(e){var r,t;if(null==e?void 0:null===(t=e.response)||void 0===t?void 0:null===(r=t.data)||void 0===r?void 0:r.message)return Promise.reject(e.response.data);throw Error("An Error Occured, try again")});let i=new n.f({uri:"".concat("https://manage.joincci.org","/graphql"),cache:new a.h({addTypename:!1})})},302:function(e,r,t){"use strict";t.d(r,{AC:function(){return o},LM:function(){return l}});var n=t(8646),a=t(1432);function i(){let e=(0,n._)(["\n    query GetCampuses($currentPage: Int!, $pageSize: Int!",') {\n      campuses(\n        pagination: { page: $currentPage, pageSize: $pageSize }\n        sort: ["inception_date:asc", "campus_name:desc"]\n        ',"\n      ) {\n        data {\n          id\n          attributes {\n            campus_name\n            campus_url\n            full_address\n            campus_alias\n            hero_banner {\n              data {\n                attributes {\n                  alternativeText\n                  url\n                }\n              }\n            }\n          }\n        }\n        meta {\n          pagination {\n            total\n            pageSize\n            page\n          }\n        }\n      }\n    }\n  "]);return i=function(){return e},e}function s(){let e=(0,n._)(["\n  query {\n    campuses(pagination: { page: 1, pageSize: 100 }) {\n      data {\n        id\n        attributes {\n          campus_name\n          campus_alias\n        }\n      }\n    }\n  }\n"]);return s=function(){return e},e}let l=e=>(0,a.Ps)(i(),e?", $country_code: String":"",e?"filters: { country_location: { country_code: { containsi: $country_code } } }":""),o=(0,a.Ps)(s())},9099:function(e,r,t){"use strict";t.d(r,{H:function(){return s}});var n=t(1838),a=t.n(n),i=e=>{let r={};for(let t of Object.keys(e))r[t]=a().sanitize(e[t]);return r};async function s(e){let{payload:r,setLoading:t,onSuccess:n=()=>{}}=e,a=i(r);try{t(!0),(await fetch("/api/submit-form",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(a)})).ok?(alert("Form submitted successfully!"),n()):alert("Failed to submit form")}catch(e){console.error("Error submitting form:",e),alert("Error submitting form")}finally{t(!1)}}},9354:function(e,r,t){"use strict";t.d(r,{cn:function(){return i}});var n=t(4839),a=t(6164);function i(){for(var e=arguments.length,r=Array(e),t=0;t<e;t++)r[t]=arguments[t];return(0,a.m6)((0,n.W)(r))}},8935:function(e,r,t){"use strict";t.d(r,{h:function(){return n}});let n={First_Timers:"First_Timers",Second_Timers:"Second_Timers",Prayer_Request:"Prayer_Request",Counselling:"Counselling",MC_New:"MC_New",MC_Completed:"MC_Completed",MC_Makeup:"MC_Makeup",Marriage_Counselling:"Marriage_Counselling",Membership:"Membership",Celebrations:"Celebrations"}},3215:function(e,r,t){"use strict";t.d(r,{D:function(){return i},J:function(){return a}});var n=t(4245);let a=(e,r)=>r?n.Z_().trim().label(e).max(r,"Cannot exceed ".concat(r," characters")):n.Z_().trim().label(e),i=n.Z_().trim().required("Email is required").email("Please enter a valid email.")}},function(e){e.O(0,[6164,8472,8280,2280,6554,2971,7023,1744],function(){return e(e.s=3463)}),_N_E=e.O()}]);