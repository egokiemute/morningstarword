(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[8723],{3963:function(e,r,n){Promise.resolve().then(n.bind(n,3758))},3758:function(e,r,n){"use strict";n.r(r),n.d(r,{default:function(){return q}});var a=n(7437),t=n(7753),i=n(2265),o=n(9343),s=n(4769),l=n(2829),d=n(7589),u=n(7983),c=n(5789),m=n(5257),h=n(5433),p=n(8856),_=n(9099),v=n(8935),g=n(3125),b=n(4245),f=n(3215);let x=b.Ry().shape({name:(0,f.J)("Full Name",50).required(),email:f.D.required(),phone:(0,f.J)("Phone",20).required(),profession:(0,f.J)("profession",25),gender:(0,f.J)("Gender").required(),other_gender:b.Z_().trim().when("gender",{is:e=>"other"===e,then:e=>e.required('Please specify if you selected "Other"').min(2,"Please provide a more detailed answer").max(255),otherwise:e=>e.notRequired()}),address:(0,f.J)("Address",255).required(),birthday:(0,f.J)("birthday").required(),how_you_heard_about_CCI:(0,f.J)("how_you_heard_about_CCI",255).required(),other:b.Z_().trim().when("how_you_heard_about_CCI",{is:e=>"other"===e,then:e=>e.required('Please specify if you selected "Other"').min(2,"Please provide a more detailed answer").max(255),otherwise:e=>e.notRequired()}),preferred_time:(0,f.J)("preferred_time").required(),prayer_request:(0,f.J)("prayer_request"),branch_attended:(0,f.J)("branch_attended").required(),residence_location:(0,f.J)("residence_location").required(),instagram:(0,f.J)("instagram",35)}),y={name:"",email:"",phone:"",profession:"",gender:"",other_gender:"",address:"",birthday:"",how_you_heard_about_CCI:"",other:"",preferred_time:"",prayer_request:"",branch_attended:"",residence_location:"",instagram:""};var q=()=>{var e,r,n,b,f,q,j,w,C,F,N,P,S,I,J;let{campuses:Z}=(0,p.Z)(),[k,O]=i.useState(null),R=i.useRef(null),[T,A]=i.useState(!1),{register:E,handleSubmit:D,formState:{errors:$},watch:z,reset:B}=(0,o.cI)({mode:"onBlur",defaultValues:y,resolver:(0,t.X)(x)}),{how_you_heard_about_CCI:H,gender:G}=z(),L=async e=>{let r="other"!==e.how_you_heard_about_CCI?e.how_you_heard_about_CCI:e.other,n="other"!==e.gender?e.gender:e.other_gender,a={formType:v.h.First_Timers,recaptcha:k,name:e.name,email:e.email,phone:e.phone,profession:e.profession,gender:n,address:e.address,birthday:e.birthday,how_you_heard_about_CCI:r,preferred_time:e.preferred_time,prayer_request:e.prayer_request,branch_attended:e.branch_attended,residence_location:e.residence_location,instagram:e.instagram};await (0,_.H)({payload:a,setLoading:A,onSuccess:()=>{B(),R.current&&R.current.reset()}})};return(0,a.jsx)(d.Z,{title:(0,a.jsxs)("h1",{className:"text-center font-anton text-2xl uppercase text-white md:text-[46px] md:leading-[55px]",children:["First ",(0,a.jsx)("span",{className:"text-textRed",children:"Timers"})]}),subTitle:(0,a.jsx)("p",{className:"w-full max-w-lg text-center text-base text-[#FFFFFFB2] md:text-lg lg:text-xl",children:"Let’s get to know you better…\uD83D\uDCDD"}),children:(0,a.jsx)("div",{className:"form-container mx-auto p-2",children:(0,a.jsxs)("form",{onSubmit:D(L),className:"w-full",children:[(0,a.jsx)(l.ph,{title:"Please provide your details"}),(0,a.jsxs)(l.Hd,{children:[(0,a.jsx)(h.o,{label:"Full Name",...E("name"),error:null==$?void 0:null===(e=$.name)||void 0===e?void 0:e.message,required:!0}),(0,a.jsx)(h.o,{label:"Email",...E("email"),error:null==$?void 0:null===(r=$.email)||void 0===r?void 0:r.message,required:!0}),(0,a.jsx)(h.o,{type:"tel",label:"Phone",...E("phone"),error:null==$?void 0:null===(n=$.phone)||void 0===n?void 0:n.message,required:!0}),(0,a.jsx)(h.o,{label:"Profession",...E("profession"),error:null==$?void 0:null===(b=$.profession)||void 0===b?void 0:b.message}),(0,a.jsx)(u.Z,{label:"Gender",value:G,options:g.P3,...E("gender"),error:null==$?void 0:null===(f=$.gender)||void 0===f?void 0:f.message,required:!0}),"other"===G?(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(h.o,{label:"Other (please specify if you picked other above)",...E("other_gender"),error:null==$?void 0:null===(q=$.other_gender)||void 0===q?void 0:q.message,required:!0})}):null,(0,a.jsx)(h.o,{label:"Address",...E("address"),error:null==$?void 0:null===(j=$.address)||void 0===j?void 0:j.message,required:!0}),(0,a.jsx)(h.o,{type:"date",label:"Birthday",...E("birthday"),error:null==$?void 0:null===(w=$.birthday)||void 0===w?void 0:w.message,required:!0}),(0,a.jsx)(u.Z,{label:"How did you hear about CCI",value:H,options:g.WU,error:null==$?void 0:null===(C=$.how_you_heard_about_CCI)||void 0===C?void 0:C.message,...E("how_you_heard_about_CCI"),required:!0}),"other"===H?(0,a.jsx)("div",{className:"mb-6",children:(0,a.jsx)(h.o,{label:"Other (please specify if you picked other above)",...E("other"),error:null==$?void 0:null===(F=$.other)||void 0===F?void 0:F.message,required:!0})}):null,(0,a.jsx)(m.Z,{label:"Preferred time of Call (when would you be available to receive calls?)",placeholder:"Select time",options:g.bX,...E("preferred_time"),error:null==$?void 0:null===(N=$.preferred_time)||void 0===N?void 0:N.message,required:!0}),(0,a.jsx)(m.Z,{label:"Branch Attended",placeholder:"Select a branch",options:Z,...E("branch_attended"),error:null==$?void 0:null===(P=$.branch_attended)||void 0===P?void 0:P.message,required:!0}),(0,a.jsx)(h.o,{label:"Which area do you reside? e.g Magodo",...E("residence_location"),error:null==$?void 0:null===(S=$.residence_location)||void 0===S?void 0:S.message,required:!0}),(0,a.jsx)(h.o,{label:"Instagram Handle",...E("instagram"),error:null==$?void 0:null===(I=$.instagram)||void 0===I?void 0:I.message}),(0,a.jsx)(h.K,{label:"Prayer Request",...E("prayer_request"),error:null==$?void 0:null===(J=$.prayer_request)||void 0===J?void 0:J.message}),(0,a.jsx)(c.Z,{onChange:O,ref:R}),(0,a.jsx)(s.g,{loading:T,children:T?"Submitting...":"Submit"})]})]})})})}},7589:function(e,r,n){"use strict";var a=n(7437);n(2265),r.Z=e=>(0,a.jsxs)("div",{className:"mb-16 md:mb-32",children:[(0,a.jsx)("div",{className:"flex h-[700px] items-center justify-center bg-black",children:(0,a.jsxs)("div",{className:"flex w-full max-w-2xl flex-col items-center gap-6",children:[(0,a.jsx)("h5",{className:"text-xs font-extrabold tracking-widest text-[#FFFFFFCC]",children:"FORMS"}),(0,a.jsx)("div",{children:e.title}),e.subTitle?e.subTitle:null]})}),(0,a.jsx)("div",{className:"mx-auto -mt-24 max-w-2xl rounded-2xl bg-white",children:e.children})]})},8856:function(e,r,n){"use strict";var a=n(2265),t=n(1388),i=n(302);async function o(){var e;let r;try{r=(await t.l.query({query:i.AC})).data}catch(e){console.error("Campus fetch error: ",e.message),r=[]}return null==r?void 0:null===(e=r.campuses)||void 0===e?void 0:e.data}r.Z=()=>{let[e,r]=a.useState([]);return a.useEffect(()=>{o().then(e=>{r(e.map(e=>{let{attributes:r}=e;return{label:r.campus_name,value:r.campus_alias}}))})},[]),{campuses:e}}},1388:function(e,r,n){"use strict";n.d(r,{l:function(){return i}});var a=n(6677),t=n(1287);n(8472).Z.create({baseURL:"".concat("https://manage.joincci.org","/api"),timeout:6e4,headers:{Accept:"application/vnd.github.v3+json"}}).interceptors.response.use(function(e){return e.data},function(e){var r,n;if(null==e?void 0:null===(n=e.response)||void 0===n?void 0:null===(r=n.data)||void 0===r?void 0:r.message)return Promise.reject(e.response.data);throw Error("An Error Occured, try again")});let i=new a.f({uri:"".concat("https://manage.joincci.org","/graphql"),cache:new t.h({addTypename:!1})})},302:function(e,r,n){"use strict";n.d(r,{AC:function(){return l},LM:function(){return s}});var a=n(8646),t=n(1432);function i(){let e=(0,a._)(["\n    query GetCampuses($currentPage: Int!, $pageSize: Int!",') {\n      campuses(\n        pagination: { page: $currentPage, pageSize: $pageSize }\n        sort: ["inception_date:asc", "campus_name:desc"]\n        ',"\n      ) {\n        data {\n          id\n          attributes {\n            campus_name\n            campus_url\n            full_address\n            campus_alias\n            hero_banner {\n              data {\n                attributes {\n                  alternativeText\n                  url\n                }\n              }\n            }\n          }\n        }\n        meta {\n          pagination {\n            total\n            pageSize\n            page\n          }\n        }\n      }\n    }\n  "]);return i=function(){return e},e}function o(){let e=(0,a._)(["\n  query {\n    campuses(pagination: { page: 1, pageSize: 100 }) {\n      data {\n        id\n        attributes {\n          campus_name\n          campus_alias\n        }\n      }\n    }\n  }\n"]);return o=function(){return e},e}let s=e=>(0,t.Ps)(i(),e?", $country_code: String":"",e?"filters: { country_location: { country_code: { containsi: $country_code } } }":""),l=(0,t.Ps)(o())}},function(e){e.O(0,[6164,8472,8280,2280,6554,1144,2971,7023,1744],function(){return e(e.s=3963)}),_N_E=e.O()}]);