(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[7922],{9019:function(e,l,a){Promise.resolve().then(a.bind(a,6505))},6505:function(e,l,a){"use strict";a.d(l,{default:function(){return x}});var r=a(7437),n=a(7753),t=a(2265),i=a(9343),s=a(4769),o=a(2829),u=a(5789),d=a(5257),c=a(5433),m=a(8856),b=a(9099),p=a(8935),v=a(3125),f=a(4245),h=a(3215);let _=f.Ry().shape({firstName:(0,h.J)("First Name",20).required(),lastName:(0,h.J)("Last Name",20).required(),email:h.D.required(),phone:(0,h.J)("Phone",20).required(),date_joined:(0,h.J)("date_joined").required(),in_MAP_group:(0,h.J)("",5).required(),MAP_group:f.Z_().trim().when("how_you_heard_about_CCI",{is:e=>"yes"===e,then:e=>e.required("Please specify your map group").min(2,"Please specify your map group").max(255),otherwise:e=>e.notRequired()}),address:(0,h.J)("Address",255).required(),street:(0,h.J)("street",255).required(),city:(0,h.J)("city",25).required(),state:(0,h.J)("state",25).required(),service_unit:(0,h.J)("service_unit",25),campus:(0,h.J)("campus",25).required(),counselling_details:(0,h.J)("counselling_details",500).required()}),g={firstName:"",lastName:"",email:"",phone:"",date_joined:"",in_MAP_group:"",MAP_group:"",address:"",street:"",city:"",state:"",service_unit:"",campus:"",counselling_details:""};var x=()=>{var e,l,a,f,h,x,y,j,N,C,w,M,P,q;let{campuses:A}=(0,m.Z)(),[S,k]=t.useState(null),T=t.useRef(null),[E,F]=t.useState(!1),{register:J,handleSubmit:Z,formState:{errors:I},reset:R,watch:L}=(0,i.cI)({mode:"onBlur",defaultValues:g,resolver:(0,n.X)(_)}),{in_MAP_group:O}=L(),D=async e=>{let l="yes"===O?e.MAP_group:"None",a={formType:p.h.Counselling,recaptcha:S,firstName:e.firstName,lastName:e.lastName,email:e.email,phone:e.phone,date_joined:e.date_joined,MAP_group:l,address:e.address,street:e.street,city:e.city,state:e.state,service_unit:e.service_unit,campus:e.campus,counselling_details:e.counselling_details};await (0,b.H)({payload:a,setLoading:F,onSuccess:()=>{R(),T.current&&T.current.reset()}})};return(0,r.jsx)("div",{children:(0,r.jsx)("div",{className:"form-container mx-auto p-2",children:(0,r.jsxs)("form",{onSubmit:Z(D),className:"w-full",children:[(0,r.jsx)(o.ph,{title:"Counselling",subtitle:"CCI Global has created a structure to help members who are in dire need of Counselling."}),(0,r.jsxs)(o.Hd,{children:[(0,r.jsxs)(o.Ue,{children:[(0,r.jsx)(c.o,{label:"First Name",...J("firstName"),error:null==I?void 0:null===(e=I.firstName)||void 0===e?void 0:e.message,required:!0}),(0,r.jsx)(c.o,{label:"Last Name",...J("lastName"),error:null==I?void 0:null===(l=I.lastName)||void 0===l?void 0:l.message,required:!0})]}),(0,r.jsx)(c.o,{label:"Email",...J("email"),error:null==I?void 0:null===(a=I.email)||void 0===a?void 0:a.message,required:!0}),(0,r.jsx)(c.o,{type:"tel",label:"Phone",...J("phone"),error:null==I?void 0:null===(f=I.phone)||void 0===f?void 0:f.message,required:!0}),(0,r.jsx)(c.o,{type:"date",label:"Date Joined",...J("date_joined"),error:null==I?void 0:null===(h=I.date_joined)||void 0===h?void 0:h.message,required:!0}),(0,r.jsx)(d.Z,{label:"Are you a member of the Map group",placeholder:"Select an option",options:v.IP,...J("in_MAP_group"),error:null==I?void 0:null===(x=I.in_MAP_group)||void 0===x?void 0:x.message,required:!0}),"yes"===O?(0,r.jsx)(c.o,{label:"What Map Group",...J("MAP_group"),error:null==I?void 0:null===(y=I.MAP_group)||void 0===y?void 0:y.message}):null,(0,r.jsx)(c.o,{label:"Address",...J("address"),error:null==I?void 0:null===(j=I.address)||void 0===j?void 0:j.message,required:!0}),(0,r.jsx)(c.o,{label:"Street Address",...J("street"),error:null==I?void 0:null===(N=I.street)||void 0===N?void 0:N.message,required:!0}),(0,r.jsx)(c.o,{label:"City",...J("city"),error:null==I?void 0:null===(C=I.city)||void 0===C?void 0:C.message,required:!0}),(0,r.jsx)(c.o,{label:"State",...J("state"),error:null==I?void 0:null===(w=I.state)||void 0===w?void 0:w.message,required:!0}),(0,r.jsx)(c.o,{label:"Service Unit",...J("service_unit"),error:null==I?void 0:null===(M=I.service_unit)||void 0===M?void 0:M.message}),(0,r.jsx)(d.Z,{label:"CCI Campus",placeholder:"Select a campus",options:A,...J("campus"),error:null==I?void 0:null===(P=I.campus)||void 0===P?void 0:P.message,required:!0}),(0,r.jsx)(c.K,{label:"What do you need counselling about? Please, share in details",...J("counselling_details"),error:null==I?void 0:null===(q=I.counselling_details)||void 0===q?void 0:q.message,required:!0}),(0,r.jsx)(u.Z,{onChange:k,ref:T}),(0,r.jsx)(s.g,{loading:E,disabled:null===S,children:E?"Submitting...":"Submit"})]})]})})})}},4769:function(e,l,a){"use strict";a.d(l,{g:function(){return t}});var r=a(7437);a(2265);var n=a(6164);let t=e=>{let{children:l,loading:a=!1,disabled:t,className:i,...s}=e;return(0,r.jsx)("button",{className:(0,n.m6)("button-effect my-4 h-12 w-full rounded-[0.375rem] bg-cci-red text-base text-white","disabled:cursor-not-allowed disabled:opacity-50",i),type:"submit",...s,disabled:t||a,children:l})}},2829:function(e,l,a){"use strict";a.d(l,{Hd:function(){return i},Ue:function(){return s},ph:function(){return t}});var r=a(7437);a(2265);var n=a(6164);let t=e=>{let{title:l,subtitle:a,additional_subtitle:t,additional_subtitle1:i,additional_subtitle2:s,className:o=""}=e;return(0,r.jsxs)("header",{className:"mb-[0.625rem] bg-milk p-5",children:[(0,r.jsx)("h1",{className:(0,n.m6)("mb-1 text-xl font-semibold text-grey-4",o),children:l}),a?(0,r.jsx)("p",{className:(0,n.m6)("text-sm font-normal text-grey-4",o),children:a}):null,t?(0,r.jsx)("p",{className:(0,n.m6)("mt-1 text-sm font-normal text-grey-4",o),children:t}):null,i?(0,r.jsx)("p",{className:(0,n.m6)("mt-1 text-sm font-normal text-grey-4",o),children:i}):null,s?(0,r.jsx)("p",{className:(0,n.m6)("mt-1 text-sm font-normal text-grey-4",o),children:s}):null]})},i=e=>(0,r.jsx)("div",{className:"mb-[0.625rem] w-full bg-milk p-[1.25rem]",...e}),s=e=>(0,r.jsx)("div",{className:"flex w-full flex-col xs:gap-4 md:flex-row",...e})},5789:function(e,l,a){"use strict";var r=a(7437),n=a(2265),t=a(1907);let i=n.forwardRef((e,l)=>{let{onChange:a}=e;return(0,r.jsx)(t.Z,{sitekey:"6Lcb3ygqAAAAAA_0Vb88_4KnfAqlkMQMELH3tDDQ",onChange:a,ref:l})});l.Z=i,i.displayName="ReCaptchaInput"},5257:function(e,l,a){"use strict";var r=a(7437);let n=a(2265).forwardRef((e,l)=>{let{options:a,required:n,error:t,...i}=e;return(0,r.jsxs)("fieldset",{className:"mb-4 flex flex-col",children:[(0,r.jsxs)("label",{htmlFor:i.id||i.name,className:"mb-2 text-sm text-black-russian",children:[i.label," ",n&&(0,r.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,r.jsxs)("select",{...i,id:i.id||i.name,className:"h-12 border-[0.5px] border-light-red indent-3 text-[13px] tracking-[0.05rem] placeholder-[0.875rem] placeholder-muted-grey",ref:l,children:[(0,r.jsx)("option",{value:"",disabled:!0,children:i.placeholder}),a.map((e,l)=>(0,r.jsx)("option",{value:e.value,children:e.label},l))]}),t?(0,r.jsx)("p",{className:"mt-1 text-xs text-red-400",children:t}):null]})});l.Z=n,n.displayName="SelectInput"},5433:function(e,l,a){"use strict";a.d(l,{K:function(){return s},o:function(){return i}});var r=a(7437),n=a(2265),t=a(9354);let i=n.forwardRef((e,l)=>{let{required:a,error:n,className:i,...s}=e;return(0,r.jsxs)("fieldset",{className:"mb-4 flex w-full flex-col",children:[(0,r.jsxs)("label",{htmlFor:s.id||s.name,className:"mb-2 text-sm text-black-russian",children:[s.label," ",a&&(0,r.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,r.jsx)("input",{...s,ref:l,id:s.id||s.name,className:(0,t.cn)("h-12 w-full border-[0.5px] border-light-red bg-white indent-5 text-sm tracking-[0.05rem] placeholder-[0.875rem] placeholder-muted-grey",i)}),n?(0,r.jsx)("p",{className:"mt-1 text-xs text-red-400",children:n}):null]})}),s=n.forwardRef((e,l)=>{let{required:a,error:n,...t}=e;return(0,r.jsxs)("fieldset",{className:"mb-4 flex flex-col",children:[(0,r.jsxs)("label",{htmlFor:t.id||t.name,className:"mb-2 text-sm text-black-russian",children:[t.label," ",a&&(0,r.jsx)("span",{className:"text-red-400",children:"*"})]}),(0,r.jsx)("textarea",{...t,ref:l,id:t.id||t.name,className:"h-28 w-full border-[0.5px] border-light-red bg-white px-2 py-1 text-sm tracking-[0.05rem] placeholder-[0.875rem] placeholder-muted-grey"}),n?(0,r.jsx)("p",{className:"mt-1 text-xs text-red-400",children:n}):null]})});i.displayName="TextInput",s.displayName="TextArea"},8856:function(e,l,a){"use strict";var r=a(2265),n=a(1388),t=a(302);async function i(){var e;let l;try{l=(await n.l.query({query:t.AC})).data}catch(e){console.error("Campus fetch error: ",e.message),l=[]}return null==l?void 0:null===(e=l.campuses)||void 0===e?void 0:e.data}l.Z=()=>{let[e,l]=r.useState([]);return r.useEffect(()=>{i().then(e=>{l(e.map(e=>{let{attributes:l}=e;return{label:l.campus_name,value:l.campus_alias}}))})},[]),{campuses:e}}},1388:function(e,l,a){"use strict";a.d(l,{l:function(){return t}});var r=a(6677),n=a(1287);a(8472).Z.create({baseURL:"".concat("https://manage.joincci.org","/api"),timeout:6e4,headers:{Accept:"application/vnd.github.v3+json"}}).interceptors.response.use(function(e){return e.data},function(e){var l,a;if(null==e?void 0:null===(a=e.response)||void 0===a?void 0:null===(l=a.data)||void 0===l?void 0:l.message)return Promise.reject(e.response.data);throw Error("An Error Occured, try again")});let t=new r.f({uri:"".concat("https://manage.joincci.org","/graphql"),cache:new n.h({addTypename:!1})})},302:function(e,l,a){"use strict";a.d(l,{AC:function(){return o},LM:function(){return s}});var r=a(8646),n=a(1432);function t(){let e=(0,r._)(["\n    query GetCampuses($currentPage: Int!, $pageSize: Int!",') {\n      campuses(\n        pagination: { page: $currentPage, pageSize: $pageSize }\n        sort: ["inception_date:asc", "campus_name:desc"]\n        ',"\n      ) {\n        data {\n          id\n          attributes {\n            campus_name\n            campus_url\n            full_address\n            campus_alias\n            hero_banner {\n              data {\n                attributes {\n                  alternativeText\n                  url\n                }\n              }\n            }\n          }\n        }\n        meta {\n          pagination {\n            total\n            pageSize\n            page\n          }\n        }\n      }\n    }\n  "]);return t=function(){return e},e}function i(){let e=(0,r._)(["\n  query {\n    campuses(pagination: { page: 1, pageSize: 100 }) {\n      data {\n        id\n        attributes {\n          campus_name\n          campus_alias\n        }\n      }\n    }\n  }\n"]);return i=function(){return e},e}let s=e=>(0,n.Ps)(t(),e?", $country_code: String":"",e?"filters: { country_location: { country_code: { containsi: $country_code } } }":""),o=(0,n.Ps)(i())},9099:function(e,l,a){"use strict";a.d(l,{H:function(){return i}});var r=a(1838),n=a.n(r),t=e=>{let l={};for(let a of Object.keys(e))l[a]=n().sanitize(e[a]);return l};async function i(e){let{payload:l,setLoading:a,onSuccess:r=()=>{}}=e,n=t(l);try{a(!0),(await fetch("/api/submit-form",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(n)})).ok?(alert("Form submitted successfully!"),r()):alert("Failed to submit form")}catch(e){console.error("Error submitting form:",e),alert("Error submitting form")}finally{a(!1)}}},9354:function(e,l,a){"use strict";a.d(l,{cn:function(){return t}});var r=a(4839),n=a(6164);function t(){for(var e=arguments.length,l=Array(e),a=0;a<e;a++)l[a]=arguments[a];return(0,n.m6)((0,r.W)(l))}},8935:function(e,l,a){"use strict";a.d(l,{h:function(){return r}});let r={First_Timers:"First_Timers",Second_Timers:"Second_Timers",Prayer_Request:"Prayer_Request",Counselling:"Counselling",MC_New:"MC_New",MC_Completed:"MC_Completed",MC_Makeup:"MC_Makeup",Marriage_Counselling:"Marriage_Counselling",Membership:"Membership",Celebrations:"Celebrations"}},3125:function(e,l,a){"use strict";a.d(l,{AN:function(){return f},HA:function(){return u},HL:function(){return d},IP:function(){return s},Ie:function(){return c},P3:function(){return t},WU:function(){return n},ZL:function(){return h},aw:function(){return p},bX:function(){return i},cC:function(){return b},ck:function(){return v},cz:function(){return o},fc:function(){return m},ll:function(){return r},rV:function(){return _}});let r=[{label:"18-25",value:"18_25"},{label:"26-29",value:"26_29"},{label:"30-49",value:"30_49"},{label:"50 and above",value:"50_and_above"}],n=[{label:"Social Media",value:"social-media"},{label:"A Family Member",value:"family-member"},{label:"A Friend",value:"friend"},{label:"A colleague at work",value:"work-colleague"},{label:"other",value:"other"}],t=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"Prefer not to Say",value:"prefer_not_to_say"},{label:"Other",value:"other"}],i=[{label:"Anytime",value:"anytime"},{label:"8am-12noon",value:"8am_12noon"},{label:"12noon- 3pm",value:"12noon_3pm"},{label:"3pm-6pm",value:"3pm_6pm"},{label:"6pm-8pm",value:"6pm_8pm"}],s=[{label:"Yes",value:"yes"},{label:"No",value:"no"}],o=[{label:"Wedding Thanksgiving",value:"wedding_thanksgiving"},{label:"Baby Dedication",value:"baby_dedication"},{label:"Naming Ceremony",value:"naming_ceremony"},{label:"other",value:"other"}],u=[{label:"Under 18",value:"under_18"},{label:"18-25",value:"18_25"},{label:"26-30",value:"26_30"},{label:"31-40",value:"31_40"},{label:"41-50",value:"41_50"},{label:"50-above",value:"50_above"}],d=[{label:"Single",value:"single"},{label:"Married",value:"married"},{label:"Divorced",value:"divorced"},{label:"Widowed",value:"widowed"},{label:"Prefer not to say",value:"prefer_not_to_say"}],c=[{label:"Employed (9-5)",value:"employed"},{label:"NYSC",value:"NYSC"},{label:"Small Business Owner",value:"small_business_owner"},{label:"Medium/Large Business Owner",value:"medium_large_business_owner"},{label:"Unemployed/ In between jobs",value:"unemployed"}],m=[{label:"STEM",value:"STEM"},{label:"Professionals",value:"Professionals"},{label:"Business",value:"Business"},{label:"Creatives",value:"Creatives"}],b=[{label:"Follow Up",value:"Follow_Up"},{label:"Protocol",value:"Protocol"},{label:"Ambience & Sanitation",value:"Ambience_Sanitation"},{label:"Photography",value:"Photography"},{label:"Media & Tech",value:"Media_Tech"},{label:"Design Team",value:"Design_Team"},{label:"Social Media",value:"Social_Media"},{label:"Celeb Kids",value:"Celeb_Kids"},{label:"Celeb Teens",value:"Celeb_Teens"},{label:"Comms",value:"Comms"},{label:"Medical",value:"Medical"}],p=[{label:"Phone Call",value:"phone_call"},{label:"WhatsApp",value:"whatsapp"},{label:"Email",value:"email"}],v=[{label:"Prayer Request",value:"phone_call"},{label:"Converation with Pastor",value:"conversation_with_pastor"},{label:"Others",value:"others"}],f=[{label:"Male",value:"male"},{label:"Female",value:"female"},{label:"No Preference",value:"no_preference"}],h=[{label:"Morning (8am-12pm)",value:"8am_12pm"},{label:"Afternoon 12noon- 4pm",value:"12noon_4pm"},{label:"Evening 4pm-8pm",value:"4pm_8pm"}],_=[{label:"High",value:"high"},{label:"Medium",value:"medium"},{label:"Low",value:"low"}]},3215:function(e,l,a){"use strict";a.d(l,{D:function(){return t},J:function(){return n}});var r=a(4245);let n=(e,l)=>l?r.Z_().trim().label(e).max(l,"Cannot exceed ".concat(l," characters")):r.Z_().trim().label(e),t=r.Z_().trim().required("Email is required").email("Please enter a valid email.")}},function(e){e.O(0,[6164,8472,8280,2280,6554,2971,7023,1744],function(){return e(e.s=9019)}),_N_E=e.O()}]);